!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},r={},n={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,a=function(e,t){for(var r,n=[],i=(o.test(t)?e+"/"+t:t).split("/"),a=0,u=i.length;u>a;a++)r=i[a],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},s=function(t){return function(r){var n=a(u(t),r);return e.require(n,t)}},l=function(e,t){var n={id:e,exports:{}};return r[e]=n,t(n.exports,s(e),n),n.exports},c=function(e){return n[e]?c(n[e]):e},f=function(e,n){null==n&&(n="/");var o=c(e);if(i.call(r,o))return r[o].exports;if(i.call(t,o))return l(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};f.alias=function(e,t){n[t]=e},f.reset=function(){t={},r={},n={}};var h=/\.[^.\/]+$/,d=/\/index(\.[^\/]+)?$/,p=function(e){if(h.test(e)){var t=e.replace(h,"");i.call(n,t)&&n[t].replace(h,"")!==t+"/index"||(n[t]=e)}if(d.test(e)){var r=e.replace(d,"");i.call(n,r)||(n[r]=e)}};f.register=f.define=function(e,n){if("object"==typeof e)for(var o in e)i.call(e,o)&&f.register(o,e[o]);else t[e]=n,delete r[e],p(e)},f.list=function(){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e},f.brunch=!0,f._cache=r,e.require=f}}(),require.register("src/DrawBoard.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){window.board=new h["default"],window.playerBlack=new p["default"](f.B),window.playerWhite=null;for(var e=0;2>e;e++)b[e].onload=function(){w++,2==w&&(u(),a())}}function o(){i()}function a(){var e=window.document.getElementById("canvas"),t=e.getContext("2d");t.fillStyle="#E4AC6A",t.fillRect(0,0,e.width,e.height);for(var r=0;320>=r;r+=40)t.beginPath(),t.moveTo(0,r),t.lineTo(320,r),t.closePath(),t.stroke(),t.beginPath(),t.moveTo(r,0),t.lineTo(r,320),t.closePath(),t.stroke();for(var n=window.board.getBoardData(),i=0;8>i;i++)for(var o=0;8>o;o++)null!=n[i+8*o]&&c(t,i,o,n[i+8*o])}function u(){var e=window.board.getTurn();e==f.W?null!=playerWhite&&window.playerWhite.move(window.board):e==f.B?null!=playerBlack&&window.playerBlack.move(window.board):s()}function s(){console.log("OVERRRRR")}function l(e){var t=parseInt(e.clientX/40),r=parseInt(e.clientY/40);window.board.isValidPosition(t,r)&&window.board.placePiece(window.board.getTurn(),t,r),a(),u(),a()}function c(e,t,r,n){n==f.B?e.drawImage(y,40*t+1.5,40*r+1.5):e.drawImage(v,40*t+1.5,40*r+1.5)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.reset=o,e.drawBoard=a,e.checkMove=u,e.touchBoard=l,e.drawChess=c;var f=t("./ReversiBoard"),h=n(f),d=t("./player/RandomPlay.js"),p=n(d),y=new Image,v=new Image;y.src="images/blackChess.png",v.src="images/whiteChess.png";var b=[y,v],w=0}),require.register("src/Game.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=t("./ReversiBoard"),u=n(a),s=t("./player"),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this.playerBlack="undefined"==typeof t.black?new s.RandomPlay(a.B):new t.black(a.B),this.playerWhite="undefined"==typeof t.white?new s.RandomPlay(a.W):new t.white(a.W),this.board=new u["default"]}return o(e,[{key:"start",value:function(){for(;null!=this.board.getTurn();){switch(this.board.getTurn()){case a.W:this.playerWhite.move(this.board);break;case a.B:this.playerBlack.move(this.board)}this.board.logBoard()}}},{key:"reset",value:function(){this.board=new u["default"]}}]),e}();e["default"]=l}),require.register("src/ReversiBoard.js",function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e.W=1,a=e.B=2,u=e.InvalidMoveError=function l(){n(this,l)},s=function(){function e(){n(this,e),this._boardData=new Array(64).fill(null),this._boardData[27]=o,this._boardData[28]=a,this._boardData[35]=a,this._boardData[36]=o,this._turn=a,this._clearCache()}return i(e,[{key:"getBoardData",value:function(){return this._boardData}},{key:"getPosition",value:function(e,t){return this._boardData[e+8*t]}},{key:"getTurn",value:function(){return 0==this.getValidPositions().length&&(this._turn==a?this._turn=o:this._turn==o&&(this._turn=a),0==this.getValidPositions().length&&(this._turn=null)),this._turn}},{key:"flippedPositionsFor",value:function(e,t){if("array"==typeof this._flippedPositionsCache[""+e+t])return this._flippedPositionsCache[""+e+t];var r=[],n=this.getBoardData();if(null!=n[e+8*t]);else for(var i=0;8>i;i++)for(var o=0;8>o;o++)this.willPositionFlip(i,o,e,t)&&r.push([i,o]);return this._flippedPositionsCache[""+e+t]=r,r}},{key:"willPositionFlip",value:function(e,t,r,n){var i=this.getBoardData();if(null!=i[r+8*n])return!1;if("array"==typeof this._flippedPositionsDataCache[""+r+n])return this._flippedPositionsDataCache[""+r+n][e+8*t];for(var u=this._turn,s=new Array(64).fill(!1),l=-1;1>=l;l++)for(var c=-1;1>=c;c++)if(0!=l||0!=c)for(var f=[],h=1;;){var d=r+l*h,p=n+c*h,y=i[d+8*p];if(0>d||0>p||d>=8||p>=8)break;if(y!=a&&y!=o)break;if(y!=u)f.push([d,p]);else if(y==u){f.forEach(function(e){s[e[0]+8*e[1]]=!0});break}h++}return this._flippedPositionsDataCache[""+r+n]=s,s[e+8*t]}},{key:"getValidPositions",value:function(){if("array"==typeof this._validPositionsCache)return this._validPositionsCache;for(var e=[],t=0;8>t;t++)for(var r=0;8>r;r++)this.isValidPosition(t,r)&&e.push([t,r]);return this._validPositionsCache=e,e}},{key:"isValidPosition",value:function(e,t){return this.flippedPositionsFor(e,t).length>0}},{key:"getScore",value:function(e){if("undefined"!=typeof this._scoreCache[e])return this._scoreCache[e];for(var t=0,r=0;64>r;r++)this._boardData[r]==e&&t++;return this._scoreCache[e]=t,t}},{key:"placePiece",value:function(e,t,r){var n=this;if(e!=this.getTurn())throw new u;if(!this.isValidPosition(t,r))throw new u;var i=this.flippedPositionsFor(t,r);this._boardData[t+8*r]=e,i.forEach(function(t){n._boardData[t[0]+8*t[1]]=e}),e==o?this._turn=a:e==a&&(this._turn=o),this._clearCache()}},{key:"setBoardDataForTesting",value:function(e){this._boardData=e,this._clearCache()}},{key:"setTurnForTesting",value:function(e){this._turn=e,this._clearCache()}},{key:"_clearCache",value:function(){this._flippedPositionsDataCache={},this._flippedPositionsCache={},this._validPositionsCache=void 0,this._scoreCache={}}},{key:"logBoard",value:function(){var e=function(e){return null==e?" ":e==a?"X":e==o?"O":void 0},t=this._boardData;console.log("  0 1 2 3 4 5 6 7");for(var r=0;8>r;r++){for(var n=[r],i=0;8>i;i++)n.push(e(t[8*r+i]));console.log(n.join(" "))}}}]),e}();e["default"]=s}),require.register("src/player/BasePlayer.js",function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function o(e){n(this,o),this.color=e};e["default"]=i}),require.register("src/player/HumanPlay.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=t("./BasePlayer"),l=n(s),c=t("readline-sync"),f=n(c),h=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"move",value:function(e){var t=f["default"].question("Enter position(x,y): "),r=t.trim().split(",");return e.placePiece(this.color,parseInt(r[0]),parseInt(r[1])),e}}]),t}(l["default"]);e["default"]=h}),require.register("src/player/RandomPlay.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=t("./BasePlayer"),l=n(s),c=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"move",value:function(e){var t=e.getValidPositions(),r=t[this.randomPick(0,t.length-1)];return e.placePiece(this.color,r[0],r[1]),e}},{key:"randomPick",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}]),t}(l["default"]);e["default"]=c}),require.register("src/player/index.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("./RandomPlay"),o=n(i),a=t("./HumanPlay"),u=n(a);r.exports={RandomPlay:o["default"],HumanPlay:u["default"]}});